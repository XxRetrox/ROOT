{"ast":null,"code":"var _jsxFileName = \"/home/jasonreacher47/ROOT/src/components/body.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport Note from \"./note\";\nimport InputField from \"./input\";\nimport axios from \"axios\";\nimport FullNote from \"./fullNote\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Body(props) {\n  _s();\n  var [inputText, setInputText] = useState({\n    user_id: props.uId,\n    title: \"\",\n    content: \"\"\n  });\n  var [errorText, setError] = useState(\"\");\n  var [noteContents, setContents] = useState([]);\n  const [isView, setView] = useState(false);\n  var [viewNote, setViewNote] = useState({\n    title: \"\",\n    content: \"\"\n  });\n  function handle(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setInputText(prevValue => {\n      return {\n        ...prevValue,\n        [name]: value\n      };\n    });\n  }\n  const loadNotes = useCallback(async () => {\n    if (!props.uId) return;\n    try {\n      const response = await axios.get(`http://localhost:5000/api/keeper/${props.uId}`);\n      const noteData = response.data.notes;\n      console.log(noteData);\n      setContents(() => {\n        return [...noteData];\n      });\n    } catch (error) {\n      console.error(\"Unable to get user notes:\", error);\n    }\n  }, [props.uId]);\n  useEffect(() => {\n    loadNotes();\n  }, [loadNotes]);\n  async function post() {\n    console.log(inputText.user_id, inputText.content);\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/postnote\", {\n        user_id: inputText.user_id,\n        title: inputText.title,\n        content: inputText.content\n      });\n      const resData = response.data;\n      setContents(prevValue => {\n        return [...prevValue, {\n          title: resData.title,\n          content: resData.content,\n          created_at: resData.created_at,\n          note_id: resData.note_id\n        }];\n      });\n      setInputText(prevValue => {\n        return {\n          ...prevValue,\n          title: \"\",\n          content: \"\"\n        };\n      });\n    } catch (error) {\n      if (error.response.status === 404) {\n        setError(`${error.response.data.message}`);\n      }\n      console.error(\"The post was unsuccessful:\", error);\n    }\n  }\n  async function deleteNote(id, noteId) {\n    setContents(prevValue => {\n      return prevValue.filter((note, index) => {\n        return index !== id;\n      });\n    });\n    try {\n      console.log(noteId);\n      const response = await axios.delete(`http://localhost:5000/api/keeper/${noteId}`);\n    } catch (error) {\n      console.error(\"Delete failed:\", error);\n    }\n  }\n  function showNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(true);\n    blur.classList.add(\"vis\");\n    console.log(blur);\n    setViewNote(() => {\n      return {\n        title: noteContents[id].title,\n        content: noteContents[id].content\n      };\n    });\n    console.log(id);\n  }\n  function closeNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(!isView);\n    blur.classList.remove(\"vis\");\n    console.log(blur);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isView ? /*#__PURE__*/_jsxDEV(FullNote, {\n      head1: viewNote.title,\n      body1: viewNote.content,\n      chNote: closeNote\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"blur\",\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: errorText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        tValue: inputText.title,\n        teValue: inputText.content,\n        onPost: post,\n        onInput: handle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arr-notes\",\n        children: noteContents.map((not, index) => {\n          return /*#__PURE__*/_jsxDEV(Note, {\n            sN: showNote,\n            id: index,\n            noteId: not.note_id,\n            title: not.title,\n            contents: not.content,\n            created_at: not.created_at,\n            onDelete: deleteNote\n          }, not.note_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n_s(Body, \"SYvTIOS09rclmnIC7fnnn240Mg8=\");\n_c = Body;\nexport default Body;\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Note","InputField","axios","FullNote","jsxDEV","_jsxDEV","Body","props","_s","inputText","setInputText","user_id","uId","title","content","errorText","setError","noteContents","setContents","isView","setView","viewNote","setViewNote","handle","event","name","value","target","prevValue","loadNotes","response","get","noteData","data","notes","console","log","error","post","resData","created_at","note_id","status","message","deleteNote","id","noteId","filter","note","index","delete","showNote","blur","document","getElementById","classList","add","closeNote","remove","children","head1","body1","chNote","fileName","_jsxFileName","lineNumber","columnNumber","className","tValue","teValue","onPost","onInput","map","not","sN","contents","onDelete","_c","$RefreshReg$"],"sources":["/home/jasonreacher47/ROOT/src/components/body.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport Note from \"./note\";\nimport InputField from \"./input\";\nimport axios from \"axios\";\nimport FullNote from \"./fullNote\";\n\nfunction Body(props) {\n  var [inputText, setInputText] = useState({\n    user_id: props.uId,\n    title: \"\",\n    content: \"\",\n  });\n  var [errorText, setError] = useState(\"\");\n  var [noteContents, setContents] = useState([]);\n  const [isView, setView] = useState(false);\n  var [viewNote, setViewNote] = useState({\n    title: \"\",\n    content: \"\",\n  });\n\n  function handle(event) {\n    const { name, value } = event.target;\n    setInputText((prevValue) => {\n      return {\n        ...prevValue,\n        [name]: value,\n      };\n    });\n  }\n\n  const loadNotes = useCallback(async () => {\n    if (!props.uId) return;\n    try {\n      const response = await axios.get(\n        `http://localhost:5000/api/keeper/${props.uId}`\n      );\n      const noteData = response.data.notes;\n      console.log(noteData);\n      setContents(() => {\n        return [...noteData];\n      });\n    } catch (error) {\n      console.error(\"Unable to get user notes:\", error);\n    }\n  }, [props.uId]);\n\n  useEffect(() => {\n    loadNotes();\n  }, [loadNotes]);\n\n  async function post() {\n    console.log(inputText.user_id, inputText.content);\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/postnote\", {\n        user_id: inputText.user_id,\n        title: inputText.title,\n        content: inputText.content,\n      });\n      const resData = response.data;\n      setContents((prevValue) => {\n        return [\n          ...prevValue,\n          {\n            title: resData.title,\n            content: resData.content,\n            created_at: resData.created_at,\n            note_id: resData.note_id,\n          },\n        ];\n      });\n      setInputText((prevValue) => {\n        return {\n          ...prevValue,\n          title: \"\",\n          content: \"\",\n        };\n      });\n    } catch (error) {\n      if (error.response.status === 404) {\n        setError(`${error.response.data.message}`);\n      }\n      console.error(\"The post was unsuccessful:\", error);\n    }\n  }\n\n  async function deleteNote(id, noteId) {\n    setContents((prevValue) => {\n      return prevValue.filter((note, index) => {\n        return index !== id;\n      });\n    });\n\n    try {\n      console.log(noteId);\n      const response = await axios.delete(\n        `http://localhost:5000/api/keeper/${noteId}`\n      );\n    } catch (error) {\n      console.error(\"Delete failed:\", error);\n    }\n  }\n\n  function showNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(true);\n    blur.classList.add(\"vis\");\n    console.log(blur);\n    setViewNote(() => {\n      return {\n        title: noteContents[id].title,\n        content: noteContents[id].content,\n      };\n    });\n    console.log(id);\n  }\n  function closeNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(!isView);\n    blur.classList.remove(\"vis\");\n    console.log(blur);\n  }\n\n  return (\n    <div>\n      {isView ? (\n        <FullNote\n          head1={viewNote.title}\n          body1={viewNote.content}\n          chNote={closeNote}\n        ></FullNote>\n      ) : null}\n      <div id=\"blur\" className=\"body\">\n        <span>{errorText}</span>\n        <InputField\n          tValue={inputText.title}\n          teValue={inputText.content}\n          onPost={post}\n          onInput={handle}\n        ></InputField>\n        <div className=\"arr-notes\">\n          {noteContents.map((not, index) => {\n            return (\n              <Note\n                sN={showNote}\n                key={not.note_id}\n                id={index}\n                noteId={not.note_id}\n                title={not.title}\n                contents={not.content}\n                created_at={not.created_at}\n                onDelete={deleteNote}\n              ></Note>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Body;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}