{"ast":null,"code":"var _jsxFileName = \"/home/jasonreacher47/ROOT/src/components/body.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport Note from \"./note\";\nimport InputField from \"./input\";\nimport axios from \"axios\";\nimport FullNote from \"./fullNote\";\nimport { useSpring, animated } from \"@react-spring/web\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Body(props) {\n  _s();\n  var [inputText, setInputText] = useState({\n    user_id: props.uId,\n    title: \"\",\n    content: \"\"\n  });\n  var [errorText, setError] = useState(\"\");\n  var [noteContents, setContents] = useState([]);\n  const [isView, setView] = useState(false);\n  var [viewNote, setViewNote] = useState({\n    title: \"\",\n    content: \"\"\n  });\n  const springProps = useSpring({\n    from: {\n      opacity: 0,\n      transform: \"scale(0)\"\n    },\n    // Start fully zoomed out and invisible\n    to: {\n      opacity: isView ? 1 : 0,\n      transform: isView ? \"scale(1)\" : \"scale(0)\"\n    },\n    // Target state based on `isVisible`\n    config: {\n      mass: 1,\n      tension: 250,\n      friction: 20\n    } // Customize spring physics\n  });\n  function handle(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setInputText(prevValue => {\n      return {\n        ...prevValue,\n        [name]: value\n      };\n    });\n  }\n  const loadNotes = useCallback(async () => {\n    if (!props.uId) return;\n    try {\n      const response = await axios.get(`http://localhost:5000/api/keeper/${props.uId}`);\n      const noteData = response.data.notes;\n      console.log(noteData);\n      setContents(() => {\n        return [...noteData];\n      });\n    } catch (error) {\n      console.error(\"Unable to get user notes:\", error);\n    }\n  }, [props.uId]);\n  useEffect(() => {\n    loadNotes();\n  }, [loadNotes]);\n  async function post() {\n    console.log(inputText.user_id, inputText.content);\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/postnote\", {\n        user_id: inputText.user_id,\n        title: inputText.title,\n        content: inputText.content\n      });\n      const resData = response.data;\n      setContents(prevValue => {\n        return [...prevValue, {\n          title: resData.title,\n          content: resData.content,\n          created_at: resData.created_at,\n          note_id: resData.note_id\n        }];\n      });\n      setInputText(prevValue => {\n        return {\n          ...prevValue,\n          title: \"\",\n          content: \"\"\n        };\n      });\n    } catch (error) {\n      if (error.response.status === 404) {\n        setError(`${error.response.data.message}`);\n      }\n      console.error(\"The post was unsuccessful:\", error);\n    }\n  }\n  async function deleteNote(id, noteId) {\n    setContents(prevValue => {\n      return prevValue.filter((note, index) => {\n        return index !== id;\n      });\n    });\n    try {\n      console.log(noteId);\n      const response = await axios.delete(`http://localhost:5000/api/keeper/${noteId}`);\n    } catch (error) {\n      console.error(\"Delete failed:\", error);\n    }\n  }\n  function showNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(true);\n    blur.classList.add(\"vis\");\n    console.log(blur);\n    setViewNote(() => {\n      return {\n        title: noteContents[id].title,\n        content: noteContents[id].content\n      };\n    });\n    console.log(id);\n  }\n  function closeNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(!isView);\n    blur.classList.remove(\"vis\");\n    console.log(blur);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(animated.div, {\n      style: springProps,\n      children: /*#__PURE__*/_jsxDEV(FullNote, {\n        head1: viewNote.title,\n        body1: viewNote.content,\n        chNote: closeNote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"blur\",\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: errorText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        tValue: inputText.title,\n        teValue: inputText.content,\n        onPost: post,\n        onInput: handle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arr-notes\",\n        children: noteContents.map((not, index) => {\n          return /*#__PURE__*/_jsxDEV(Note, {\n            sN: showNote,\n            id: index,\n            noteId: not.note_id,\n            title: not.title,\n            contents: not.content,\n            created_at: not.created_at,\n            onDelete: deleteNote\n          }, not.note_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(Body, \"l79Ex+7BTD9uPswXhHwPrppU9tY=\", false, function () {\n  return [useSpring];\n});\n_c = Body;\nexport default Body;\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Note","InputField","axios","FullNote","useSpring","animated","jsxDEV","_jsxDEV","Body","props","_s","inputText","setInputText","user_id","uId","title","content","errorText","setError","noteContents","setContents","isView","setView","viewNote","setViewNote","springProps","from","opacity","transform","to","config","mass","tension","friction","handle","event","name","value","target","prevValue","loadNotes","response","get","noteData","data","notes","console","log","error","post","resData","created_at","note_id","status","message","deleteNote","id","noteId","filter","note","index","delete","showNote","blur","document","getElementById","classList","add","closeNote","remove","children","div","style","head1","body1","chNote","fileName","_jsxFileName","lineNumber","columnNumber","className","tValue","teValue","onPost","onInput","map","not","sN","contents","onDelete","_c","$RefreshReg$"],"sources":["/home/jasonreacher47/ROOT/src/components/body.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport Note from \"./note\";\nimport InputField from \"./input\";\nimport axios from \"axios\";\nimport FullNote from \"./fullNote\";\nimport { useSpring, animated } from \"@react-spring/web\";\n\nfunction Body(props) {\n  var [inputText, setInputText] = useState({\n    user_id: props.uId,\n    title: \"\",\n    content: \"\",\n  });\n  var [errorText, setError] = useState(\"\");\n  var [noteContents, setContents] = useState([]);\n  const [isView, setView] = useState(false);\n  var [viewNote, setViewNote] = useState({\n    title: \"\",\n    content: \"\",\n  });\n\n  const springProps = useSpring({\n    from: { opacity: 0, transform: \"scale(0)\" }, // Start fully zoomed out and invisible\n    to: {\n      opacity: isView ? 1 : 0,\n      transform: isView ? \"scale(1)\" : \"scale(0)\",\n    }, // Target state based on `isVisible`\n    config: { mass: 1, tension: 250, friction: 20 }, // Customize spring physics\n  });\n\n  function handle(event) {\n    const { name, value } = event.target;\n    setInputText((prevValue) => {\n      return {\n        ...prevValue,\n        [name]: value,\n      };\n    });\n  }\n\n  const loadNotes = useCallback(async () => {\n    if (!props.uId) return;\n    try {\n      const response = await axios.get(\n        `http://localhost:5000/api/keeper/${props.uId}`\n      );\n      const noteData = response.data.notes;\n      console.log(noteData);\n      setContents(() => {\n        return [...noteData];\n      });\n    } catch (error) {\n      console.error(\"Unable to get user notes:\", error);\n    }\n  }, [props.uId]);\n\n  useEffect(() => {\n    loadNotes();\n  }, [loadNotes]);\n\n  async function post() {\n    console.log(inputText.user_id, inputText.content);\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/postnote\", {\n        user_id: inputText.user_id,\n        title: inputText.title,\n        content: inputText.content,\n      });\n      const resData = response.data;\n      setContents((prevValue) => {\n        return [\n          ...prevValue,\n          {\n            title: resData.title,\n            content: resData.content,\n            created_at: resData.created_at,\n            note_id: resData.note_id,\n          },\n        ];\n      });\n      setInputText((prevValue) => {\n        return {\n          ...prevValue,\n          title: \"\",\n          content: \"\",\n        };\n      });\n    } catch (error) {\n      if (error.response.status === 404) {\n        setError(`${error.response.data.message}`);\n      }\n      console.error(\"The post was unsuccessful:\", error);\n    }\n  }\n\n  async function deleteNote(id, noteId) {\n    setContents((prevValue) => {\n      return prevValue.filter((note, index) => {\n        return index !== id;\n      });\n    });\n\n    try {\n      console.log(noteId);\n      const response = await axios.delete(\n        `http://localhost:5000/api/keeper/${noteId}`\n      );\n    } catch (error) {\n      console.error(\"Delete failed:\", error);\n    }\n  }\n\n  function showNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(true);\n    blur.classList.add(\"vis\");\n    console.log(blur);\n    setViewNote(() => {\n      return {\n        title: noteContents[id].title,\n        content: noteContents[id].content,\n      };\n    });\n    console.log(id);\n  }\n  function closeNote(id) {\n    var blur = document.getElementById(\"blur\");\n    setView(!isView);\n    blur.classList.remove(\"vis\");\n    console.log(blur);\n  }\n\n  return (\n    <div>\n      <animated.div style={springProps}>\n        <FullNote\n          head1={viewNote.title}\n          body1={viewNote.content}\n          chNote={closeNote}\n        ></FullNote>\n      </animated.div>\n\n      <div id=\"blur\" className=\"body\">\n        <span>{errorText}</span>\n        <InputField\n          tValue={inputText.title}\n          teValue={inputText.content}\n          onPost={post}\n          onInput={handle}\n        ></InputField>\n        <div className=\"arr-notes\">\n          {noteContents.map((not, index) => {\n            return (\n              <Note\n                sN={showNote}\n                key={not.note_id}\n                id={index}\n                noteId={not.note_id}\n                title={not.title}\n                contents={not.content}\n                created_at={not.created_at}\n                onDelete={deleteNote}\n              ></Note>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Body;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}